<!-- ASIAGOLD UI v0.4.7 | Design Pass 1: Light Premium appbar + modals + list items -->
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Asia Gold | بررسی سفارش</title>
<link rel="stylesheet" href="./theme.css">
<style>
.wrapper{position:relative;align-items:center;}
.wrapper::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(4px);
  z-index:0;
}
.panel{
  max-width:480px;
  padding:22px;
  position:relative;
  z-index:1;
  animation:modalPop .18s ease;
}
.header{margin-bottom:14px;}
.logo{
  width:78px;height:78px;margin:0 auto 8px;
  font-size:14px;
}
.title{font-size:16px;font-weight:bold;color:var(--text2);}
.sub{font-size:13px;color:var(--text3);margin-top:4px;}
.box{
  margin-top:14px;border-radius:var(--r18);padding:14px;
  background:linear-gradient(180deg,var(--glass-strong),var(--glass-soft));
}
.row{display:flex;justify-content:space-between;font-size:14px;color:var(--text4);margin-top:8px;}
.row span:last-child{color:var(--text1);font-weight:600;}
.label{margin-top:14px;font-size:13px;color:var(--text5);}
textarea{
  width:100%;margin-top:10px;min-height:110px;
  border:none;outline:none;border-radius:var(--r16);
  padding:12px;font-size:14px;
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  color:var(--ink2);resize:none;
}
.actions{display:flex;gap:10px;margin-top:16px;}
.btn{
  flex:1;padding:12px;border-radius:var(--r16);border:none;
  font-size:14px;font-weight:bold;cursor:pointer;
  text-decoration:none;display:block;text-align:center;
}
.btn-approve{background:linear-gradient(135deg,var(--gold4),var(--gold6));color:var(--ink4);}
.btn-reject{background:linear-gradient(135deg,var(--danger1),var(--danger2));color:var(--text1);}
.btn-cancel{background:linear-gradient(135deg,var(--surface3),var(--surface4));color:var(--ink2);}
.footer{margin-top:16px;}
@keyframes modalPop{
  from{opacity:0;transform:translateY(8px) scale(.98);}
  to{opacity:1;transform:translateY(0) scale(1);}
}
</style>
</head>
<body>
<header class="ag-topbar" role="banner">
  <button class="ag-back" type="button" data-fallback="./admin.html" aria-label="بازگشت">
    <span class="ag-back-icon" aria-hidden="true">←</span>
  </button>
  <div class="ag-topbar-title" id="ag-topbar-title"></div>
  <div class="ag-topbar-actions" aria-label="ابزارها">
    <button class="ag-icon ag-help" type="button" data-ag-open="help" aria-label="راهنما">؟</button>
    <button class="ag-icon ag-logo" type="button" data-ag-open="about" aria-label="درباره ASIAGOLD">AG</button>
  </div>
</header>
<div class="ag-modal" id="ag-modal-about" hidden>
  <div class="ag-modal-backdrop" data-ag-close="about" aria-hidden="true"></div>
  <div class="ag-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="ag-about-title">
    <div class="ag-modal-header">
      <div class="ag-modal-title" id="ag-about-title">درباره ASIAGOLD</div>
      <button class="ag-icon ag-modal-close" type="button" data-ag-close="about" aria-label="بستن">×</button>
    </div>
    <div class="ag-modal-body">
      <div>ASIAGOLD واسطه ثبت و ارسال سفارش به کارخانه است.</div>
      <div class="ag-modal-section" aria-label="تماس با ما">
        <div class="ag-modal-title" style="font-size:13px;">تماس با ما</div>
        <div class="ag-kv"><span>تلگرام</span><strong>—</strong></div>
        <div class="ag-kv"><span>تلفن</span><strong>—</strong></div>
        <div class="ag-kv"><span>ایمیل</span><strong>—</strong></div>
      </div>
    </div>
  </div>
</div>
<div class="ag-modal" id="ag-modal-help" hidden>
  <div class="ag-modal-backdrop" data-ag-close="help" aria-hidden="true"></div>
  <div class="ag-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="ag-help-title">
    <div class="ag-modal-header">
      <div class="ag-modal-title" id="ag-help-title">راهنما</div>
      <button class="ag-icon ag-modal-close" type="button" data-ag-close="help" aria-label="بستن">×</button>
    </div>
    <div class="ag-modal-body" id="ag-help-body"></div>
  </div>
</div>
<div class="wrapper">
  <div class="panel">
    <div class="header">
      <div class="logo-ring">
        <div class="logo">Asia<br>Gold</div>
      </div>
      <div class="title">بررسی سفارش</div>
      <div class="sub">بدون پرداخت • پس از تأیید، در چرخه بعدی به کارخانه ارسال می‌شود</div>
    </div>

    <div class="box">
      <div class="row"><span>مشتری</span><span>محمد رضایی</span></div>
      <div class="row"><span>نوع محصول</span><span>النگو</span></div>
      <div class="row"><span>تعداد</span><span>۲ عدد</span></div>
      <div class="row"><span>وضعیت فعلی</span><span>در انتظار بررسی مدیر فروش</span></div>
    </div>

    <div class="label">یادداشت برای دفتر مرکزی (اختیاری)</div>
    <textarea placeholder="مثال: نکته فنی، توضیح محصول یا درخواست مشتری ..."></textarea>

    <div class="actions">
      <button class="btn btn-approve">تأیید سفارش</button>
      <button class="btn btn-reject">نیاز به بررسی</button>
    </div>
    <div class="actions">
      <a href="./admin.html" class="btn btn-cancel">بازگشت</a>
    </div>


    <div class="footer">ASIAGOLD فقط واسطه است • هیچ پرداختی در این پلتفرم دریافت نمی‌شود</div>
</div>
</div>
<script>
(() => {
  const titleEl = document.getElementById("ag-topbar-title");
  const source = document.querySelector(".title");
  if (titleEl) titleEl.textContent = (source?.textContent || "").trim() || document.title.split("|").pop().trim();

  const backBtn = document.querySelector(".ag-back");
  if (!backBtn) return;
  const fallback = backBtn.getAttribute("data-fallback") || "./admin.html";
  backBtn.addEventListener("click", () => {
    if (window.history.length >= 2) window.history.back();
    else window.location.href = fallback;
  });
})();
</script>
<script>
(() => {
  const about = document.getElementById("ag-modal-about");
  const help = document.getElementById("ag-modal-help");
  const helpBody = document.getElementById("ag-help-body");

  function getHelpText() {
    const page = (location.pathname.split("/").pop() || "").toLowerCase();
    if (page.includes("user-dashboard")) return "دسته، گروه و مدل را انتخاب کنید. برای ورود، روی کل ردیف بزنید.";
    if (page.includes("user-orders")) return "جمع تعداد و وزن را بررسی کنید و «نهایی کردن سفارش» را بزنید.";
    if (page.includes("admin")) return "این بخش مخصوص مدیریت است.";
    if (page.includes("index")) return "ورود به سیستم از این صفحه انجام می‌شود.";
    return "راهنمای این صفحه در دسترس نیست.";
  }

  function syncHelpContent() {
    if (helpBody) helpBody.textContent = getHelpText();
  }

  function syncBodyLock() {
    const anyOpen = (about && !about.hidden) || (help && !help.hidden);
    document.body.classList.toggle("ag-modal-open", Boolean(anyOpen));
  }

  function openModal(which) {
    if (which === "about" && about) {
      about.hidden = false;
      syncBodyLock();
      const close = about.querySelector("[data-ag-close=\"about\"]");
      if (close && close.focus) close.focus();
      return;
    }
    if (which === "help" && help) {
      syncHelpContent();
      help.hidden = false;
      syncBodyLock();
      const close = help.querySelector("[data-ag-close=\"help\"]");
      if (close && close.focus) close.focus();
    }
  }

  function closeModal(which) {
    if (which === "about" && about) about.hidden = true;
    if (which === "help" && help) help.hidden = true;
    syncBodyLock();
  }

  document.addEventListener("click", (e) => {
    const open = e.target.closest("[data-ag-open]");
    if (open) openModal(open.getAttribute("data-ag-open"));
    const close = e.target.closest("[data-ag-close]");
    if (close) closeModal(close.getAttribute("data-ag-close"));
  });

  window.addEventListener("keydown", (e) => {
    if (e.key !== "Escape") return;
    if (about && !about.hidden) closeModal("about");
    if (help && !help.hidden) closeModal("help");
  });
})();
</script>
</body>
</html>
