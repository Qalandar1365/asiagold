/* ASIAGOLD UI v0.4.9 | Design Pass 3: luxury polish */
@import url("https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap");

:root{
  --bg1:#fbfbfc;
  --bg2:#f7f2df;
  --bg3:#f2e6b8;

  --panel1:#ffffff;
  --panel2:#fbfbfd;

  --gold1:#f6edc7;
  --gold2:#c9a23a;
  --gold3:#7a6408;
  --gold4:#f1d27a;
  --gold5:#d6b44a;
  --gold6:#caa13a;
  --gold7:#9f7f14;

  --text1:#1a1400;
  --text2:#2b2200;
  --text3:#3a2f00;
  --text4:#5c4a00;
  --text5:#6a5b1a;

  --ink1:#1a1400;
  --ink2:#3a2f00;
  --ink3:#5c4a00;
  --ink4:#2b2200;
  --ink5:#2a2100;

  --surface1:#ffffff;
  --surface2:#fbf8ef;
  --surface3:#f4edd6;
  --surface4:#e9ddbb;

  --success:#1b7f3b;
  --accent-light:#7a6408;
  --ok:#29b36b;
  --pending:#d6c56f;
  --bad:#b8573f;
  --danger1:#b8573f;
  --danger2:#7a2d1b;

  --shadow:0 14px 45px rgba(0,0,0,.14);
  --shadow-soft:0 10px 26px rgba(0,0,0,.10);
  --glass-strong:rgba(0,0,0,.06);
  --glass-soft:rgba(0,0,0,.03);

  --border:rgba(0,0,0,.08);

  --sp-1:4px;
  --sp-2:8px;
  --sp-3:12px;
  --sp-4:16px;
  --sp-5:20px;

  --r26:26px;
  --r18:18px;
  --r16:16px;
  --r14:14px;
  --r12:12px;
}

*{box-sizing:border-box;}

html,body{
  direction:rtl;
  unicode-bidi:isolate;
}

body{
  margin:0;
  font-family:"Vazirmatn";
  line-height:1.55;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
  animation:pageFade .2s ease;
  color:var(--text1);
  background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 72%, var(--bg3) 100%);
}

html,
body,
button,
input,
textarea,
select,
option,
table,
th,
td,
label,
a,
span,
div{
  font-family:"Vazirmatn";
  font-weight:400;
  line-height:inherit;
}

button,
input,
select,
textarea,
option,
a{
  font-family:inherit;
}

input,
select,
textarea{
  line-height:1.5;
  min-height:40px;
  border:none;
  outline:none;
  transition:box-shadow .18s ease,transform .18s ease;
}

input:focus-visible,
select:focus-visible,
textarea:focus-visible{
  box-shadow:0 0 0 2px var(--glass-strong),0 0 0 4px var(--gold4);
}

.title{
  font-weight:700;
  line-height:1.35;
}

.sub,
.status,
.footer,
.row,
.label{
  line-height:1.5;
  font-weight:400;
}

.logo{
  line-height:1.2;
}

.wrapper{
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:12px;
}

.card,
.panel{
  width:100%;
  background:linear-gradient(180deg,var(--panel1) 0%, var(--panel2) 100%);
  border-radius:var(--r26);
  box-shadow:var(--shadow);
  color:var(--text1);
  border:1px solid var(--border);
}

.header{
  text-align:center;
}

.logo{
  border-radius:50%;
  background:radial-gradient(circle at top,var(--gold1),var(--gold2),var(--gold3));
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:var(--ink1);
}

.header .logo{
  width:72px;
  height:72px;
  margin:0 auto 8px;
  font-size:14px;
}

.footer{
  text-align:center;
  font-size:12px;
  color:var(--text5);
}

.ag-topbar{
  position:sticky;
  top:0;
  z-index:10;
  display:flex;
  justify-content:space-between;
  align-items:center;
  min-height:56px;
  padding:8px 10px;
  background:rgba(255,255,255,.78);
  backdrop-filter:saturate(140%) blur(10px);
  -webkit-backdrop-filter:saturate(140%) blur(10px);
  border-bottom:1px solid var(--border);
}

.ag-topbar-title{
  text-align:center;
  font-size:14px;
  font-weight:700;
  color:var(--text2);
  padding:0 var(--sp-3);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.ag-topbar-actions{
  display:flex;
  align-items:center;
  gap:8px;
  justify-content:flex-end;
}

.ag-back{
  width:40px;
  height:40px;
  border:none;
  border-radius:var(--r12);
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  color:var(--text2);
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--border);
}

.ag-back:hover,
.ag-icon:hover{
  transform:none;
  box-shadow:none;
}

.ag-back:active,
.ag-icon:active{
  transform:scale(.995);
  box-shadow:none;
}

.ag-back-icon{
  display:inline-block;
  transform:scaleX(-1);
  font-size:18px;
  line-height:1;
}

.ag-ico{
  width:20px;
  height:20px;
  display:block;
  stroke:currentColor;
  fill:none;
  stroke-width:1.8;
  stroke-linecap:round;
  stroke-linejoin:round;
}

.ag-modal-close .ag-ico{
  width:18px;
  height:18px;
}

.basket-btn,
.pd-cta,
.kr-cta,
.kr-add-row{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}

.basket-btn .ag-ico,
.pd-cta .ag-ico,
.kr-cta .ag-ico,
.kr-add-row .ag-ico{
  width:18px;
  height:18px;
}

.pd-nav{
  display:flex;
  align-items:center;
  justify-content:center;
}

.pd-nav .ag-ico{
  width:18px;
  height:18px;
}

.ag-icon{
  width:40px;
  height:40px;
  border:none;
  border-radius:var(--r12);
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  color:var(--text2);
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--border);
  cursor:pointer;
}

.ag-icon.ag-help{
  font-weight:900;
  font-size:18px;
  line-height:1;
}

.ag-icon.ag-logo{
  border-radius:999px;
  background:radial-gradient(circle at top,var(--gold1),var(--gold4),var(--gold7));
  color:var(--ink1);
  font-weight:800;
  font-size:14px;
  letter-spacing:.5px;
}

.ag-back:focus-visible,
.ag-icon:focus-visible{
  outline:none;
  box-shadow:0 0 0 2px rgba(0,0,0,.06),0 0 0 4px var(--gold4);
}

.catalog-list .catalog-item:focus-visible{
  outline:none;
  box-shadow:0 0 0 2px rgba(0,0,0,.06),0 0 0 4px var(--gold4);
}

.ag-modal-open{
  overflow:hidden;
}

.ag-modal{
  position:fixed;
  inset:0;
  z-index:100;
  display:grid;
  place-items:center;
  padding:16px;
}

.ag-modal[hidden]{
  display:none;
}

.ag-modal-backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.35);
}

.ag-modal-dialog{
  position:relative;
  width:min(92vw, 460px);
  border-radius:var(--r18);
  background:linear-gradient(180deg,var(--panel1) 0%, var(--panel2) 100%);
  color:var(--text1);
  border:1px solid var(--border);
  box-shadow:0 22px 60px rgba(0,0,0,.22);
}

.ag-modal:not([hidden]) .ag-modal-backdrop{
  animation:agModalFade 150ms ease-out;
}

.ag-modal:not([hidden]) .ag-modal-dialog{
  animation:agModalPop 170ms ease-out;
  transform-origin:center;
  will-change:transform,opacity;
}

.ag-modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:12px 12px 8px;
  border-bottom:1px solid rgba(0,0,0,.06);
}

.ag-modal-title{
  font-size:14px;
  font-weight:800;
  color:var(--text2);
}

.ag-modal-close{
  width:36px;
  height:36px;
  border-radius:var(--r12);
  font-size:18px;
  line-height:1;
}

.ag-modal-body{
  padding:12px;
  font-size:13px;
  line-height:1.85;
  color:var(--text3);
}

.ag-modal-section{
  margin-top:10px;
  border-radius:var(--r16);
  padding:10px;
  background:linear-gradient(180deg,var(--glass-strong),var(--glass-soft));
  border:1px solid rgba(0,0,0,.04);
}

.ag-kv{
  display:flex;
  justify-content:space-between;
  gap:10px;
  margin-top:8px;
  font-size:13px;
}

.ag-kv strong{
  color:var(--text2);
  font-weight:900;
}

.ag-list-item,
.catalog-list .catalog-item{
  border:1px solid rgba(0,0,0,.06);
  box-shadow:none;
  transition:background-color .18s ease,transform .12s ease,box-shadow .18s ease,border-color .18s ease;
}

.ag-list-item:hover,
.catalog-list .catalog-item:hover{
  transform:none;
  box-shadow:0 10px 26px rgba(0,0,0,.08);
  border-color:rgba(0,0,0,.10);
}

.ag-list-item:active,
.catalog-list .catalog-item:active{
  transform:scale(.995);
  box-shadow:none;
}

.ag-list-item .catalog-thumb,
.catalog-list .catalog-item .catalog-thumb{
  width:40px;
  height:40px;
  border-radius:12px;
  font-size:14px;
}

.ag-list-item .catalog-name,
.catalog-list .catalog-item .catalog-name{
  font-size:14px;
}

.ag-list-item .catalog-desc,
.catalog-list .catalog-item .catalog-desc{
  margin-top:2px;
}

.badge.rejected,
.btn-reject{
  color:#fff !important;
}

.logo-ring{
  position:relative;
  width:fit-content;
  margin:0 auto;
}

.logo-ring::before{
  content:"";
  position:absolute;
  inset:-6px;
  border-radius:50%;
  border:2px solid transparent;
  background:conic-gradient(from 0deg,#f6edc7,#c9a23a,#7a6408,#f6edc7);
  -webkit-mask:radial-gradient(farthest-side,transparent calc(100% - 2px),#000 0);
  mask:radial-gradient(farthest-side,transparent calc(100% - 2px),#000 0);
  animation:spin 8s linear infinite;
  opacity:.85;
}

@keyframes spin{
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}

@keyframes agModalFade{
  from{opacity:0;}
  to{opacity:1;}
}

@keyframes agModalPop{
  from{opacity:0;transform:scale(.985);}
  to{opacity:1;transform:scale(1);}
}

.cart-action{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
}

.cart-action svg{
  flex-shrink:0;
}

::placeholder{
  font-family:inherit;
  font-weight:400;
}

.order,
.item,
.btn,
.submit,
.badge,
button,
.cart-action,
.list select,
input,
select,
textarea{
  transition:background-color .16s ease-out,transform .14s ease-out,box-shadow .16s ease-out,opacity .16s ease-out;
}

.order:hover,
.item:hover,
.btn:hover,
.submit:hover,
.badge:hover,
button:hover,
.cart-action:hover{
  transform:none;
  box-shadow:0 10px 26px rgba(0,0,0,.10);
}

.order:active,
.item:active,
.btn:active,
.submit:active,
.badge:active,
button:active,
.cart-action:active{
  transform:scale(.996);
  box-shadow:none;
}

button:disabled,
.btn:disabled,
.submit:disabled,
input:disabled,
select:disabled,
textarea:disabled{
  opacity:.65;
  cursor:not-allowed;
  transform:none;
  box-shadow:none;
}

.list .order{
  position:relative;
}

.list .order:not(:last-child)::after{
  content:"";
  position:absolute;
  left:0;
  right:0;
  bottom:-1px;
  height:1px;
  background:var(--glass-strong);
  opacity:.65;
}

.basket-total strong,
.pd-summary,
.kr-summary{
  font-variant-numeric:tabular-nums;
  letter-spacing:.2px;
}

@keyframes pageFade{
  from{opacity:0;transform:translateY(6px);}
  to{opacity:1;transform:translateY(0);}
}

/* =========================
   STAGE 4 (UI shell + RTL)
   ========================= */

body.ag-s4 .wrapper{
  width:100%;
  max-width:520px;
  margin:0 auto;
  align-items:flex-start;
}

body.ag-s4.ag-mode-login .wrapper{
  align-items:center;
}

body.ag-s4 .ag-s4-card{
  padding:18px;
  max-width:520px;
}

/* App Bar (login -> app) */
body.ag-s4 .ag-appbar{
  position:fixed;
  top:0;
  left:0;
  right:0;
  z-index:15;
  min-height:56px;
  padding:8px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:rgba(255,255,255,.78);
  backdrop-filter:saturate(140%) blur(10px);
  -webkit-backdrop-filter:saturate(140%) blur(10px);
  border-bottom:1px solid var(--border);
  opacity:0;
  transform:translateY(-10px);
  pointer-events:none;
  transition:opacity 520ms ease, transform 520ms ease;
}

body.ag-s4.ag-mode-app .ag-appbar{
  opacity:1;
  transform:translateY(0);
  pointer-events:auto;
}

body.ag-s4 .ag-appbar-back{
  width:40px;
  height:40px;
  border:none;
  border-radius:var(--r12);
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  color:var(--text2);
  display:flex;
  align-items:center;
  justify-content:center;
  border:1px solid var(--border);
}

body.ag-s4 .ag-appbar-title{
  text-align:center;
  font-size:14px;
  font-weight:800;
  color:var(--text2);
  padding:0 var(--sp-3);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Brand logo state */
body.ag-s4 .ag-brand.logo--hero{
  position:fixed;
  z-index:20;
  top:50%;
  right:50%;
  transform:translate(50%,-50%) scale(1);
  transform-origin:50% 50%;
  pointer-events:none;
}

body.ag-s4 .ag-brand.logo--hero::before{
  content:"";
  position:absolute;
  inset:-18px -26px;
  border-radius:var(--r18);
  background:linear-gradient(115deg, transparent 0%, rgba(241,210,122,.25) 46%, transparent 72%);
  background-size:220% 100%;
  opacity:.65;
  filter:blur(10px);
  animation:agS4Shimmer 4.5s ease-in-out infinite;
}

body.ag-s4 .ag-brand.logo--hero .ag-brand-logo{
  position:relative;
  display:block;
  width:min(320px, 76vw);
  height:auto;
  filter:drop-shadow(0 16px 34px rgba(201,162,58,.18)) drop-shadow(0 10px 22px rgba(0,0,0,.12));
  animation:agS4Glow 4.8s ease-in-out infinite;
}

body.ag-s4 .ag-brand.logo--app{
  position:relative;
  z-index:16;
  pointer-events:auto;
  flex-shrink:0;
}

body.ag-s4 .ag-brand.logo--app::before{ content:none; }

body.ag-s4 .ag-brand.logo--app .ag-brand-logo{
  display:block;
  width:96px;
  height:auto;
  filter:drop-shadow(0 10px 22px rgba(201,162,58,.10)) drop-shadow(0 8px 18px rgba(0,0,0,.10));
  animation:agS4Glow 6.2s ease-in-out infinite;
}

@keyframes agS4Glow{
  0%,100%{filter:drop-shadow(0 16px 34px rgba(201,162,58,.14)) drop-shadow(0 10px 22px rgba(0,0,0,.12));}
  50%{filter:drop-shadow(0 18px 36px rgba(201,162,58,.22)) drop-shadow(0 10px 22px rgba(0,0,0,.10));}
}

@keyframes agS4Shimmer{
  0%{background-position:0% 50%; opacity:.55;}
  50%{background-position:100% 50%; opacity:.75;}
  100%{background-position:0% 50%; opacity:.55;}
}

/* Login layout */
body.ag-s4 .ag-login .wrapper{
  padding-top:24px;
}

body.ag-s4.ag-mode-app .ag-login{
  opacity:0;
  transform:translateY(10px);
  transition:opacity 520ms ease, transform 520ms ease;
}

body.ag-s4 .ag-login-head{
  text-align:center;
  margin-bottom:12px;
}

body.ag-s4 .ag-login-title{
  font-size:16px;
  font-weight:900;
  color:var(--text2);
}

body.ag-s4 .ag-login-sub{
  margin-top:6px;
  font-size:12px;
  color:var(--text5);
  line-height:1.9;
}

body.ag-s4 .ag-form{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:14px;
}

body.ag-s4 .ag-field label,
body.ag-s4 .ag-label{
  display:block;
  font-size:12px;
  color:var(--text4);
  margin-bottom:6px;
}

body.ag-s4 .ag-input,
body.ag-s4 .ag-field input,
body.ag-s4 .ag-field select,
body.ag-s4 .ag-select{
  width:100%;
  border:none;
  outline:none;
  border-radius:14px;
  padding:10px 12px;
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  color:var(--ink3);
  font-size:13px;
  border:1px solid rgba(0,0,0,.06);
}

body.ag-s4 .ag-primary,
body.ag-s4 .ag-danger,
body.ag-s4 .ag-ghost{
  width:100%;
  border:none;
  border-radius:14px;
  padding:11px 14px;
  font-weight:900;
  cursor:pointer;
  border:1px solid rgba(0,0,0,.06);
}

body.ag-s4 .ag-primary{
  margin-top:12px;
  background:linear-gradient(135deg,var(--gold4),var(--gold6));
  color:var(--ink4);
}

body.ag-s4 .ag-danger{
  background:linear-gradient(135deg,var(--danger1),var(--danger2));
  color:#fff;
}

body.ag-s4 .ag-ghost{
  background:linear-gradient(180deg,var(--glass-strong),var(--glass-soft));
  color:var(--text2);
}

body.ag-s4 .ag-app .wrapper{
  padding-top:72px;
  padding-bottom:16px;
}

/* Sections + list rows (clickable) */
body.ag-s4 .ag-s4-section{
  margin-top:12px;
  border-radius:var(--r18);
  padding:12px;
  background:linear-gradient(180deg,var(--glass-strong),var(--glass-soft));
  border:1px solid rgba(0,0,0,.04);
}

body.ag-s4 .ag-s4-subsection{
  margin-top:10px;
  border-radius:var(--r16);
  padding:10px;
  background:linear-gradient(180deg,rgba(255,255,255,.70),rgba(255,255,255,.35));
  border:1px solid rgba(0,0,0,.04);
}

body.ag-s4 .ag-s4-section-title{
  font-size:13px;
  font-weight:900;
  color:var(--text2);
  margin-bottom:10px;
}

body.ag-s4 .ag-s4-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}

body.ag-s4 .ag-s4-role{
  font-size:14px;
  font-weight:900;
  color:var(--text2);
}

body.ag-s4 .ag-s4-office{
  margin-top:4px;
  font-size:12px;
  color:var(--text5);
}

body.ag-s4 .ag-list{
  display:flex;
  flex-direction:column;
  gap:10px;
}

body.ag-s4 .ag-list-item{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px;
  border-radius:var(--r18);
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  text-decoration:none;
  color:inherit;
  cursor:pointer;
}

body.ag-s4 .ag-list-item[aria-disabled="true"]{
  opacity:.65;
  pointer-events:none;
}

body.ag-s4 .ag-li-main{flex:1; min-width:0;}
body.ag-s4 .ag-li-title{font-size:13px; font-weight:900; color:var(--text2); line-height:1.6;}
body.ag-s4 .ag-li-sub{margin-top:2px; font-size:12px; color:var(--text5); line-height:1.8; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
body.ag-s4 .ag-li-meta{flex-shrink:0; font-size:12px; color:var(--text4); text-align:left; display:flex; flex-direction:column; align-items:flex-end; gap:6px;}
body.ag-s4 .ag-li-weight{font-variant-numeric:tabular-nums;}

/* KPI + bars */
body.ag-s4 .ag-kpi{display:flex; flex-direction:column; gap:10px;}
body.ag-s4 .ag-kpi-row{display:flex; justify-content:space-between; gap:10px; font-size:13px; color:var(--text4);}
body.ag-s4 .ag-kpi-row strong{color:var(--text2); font-weight:900;}

body.ag-s4 .ag-stackbar{
  height:8px;
  border-radius:999px;
  overflow:hidden;
  display:flex;
  border:1px solid rgba(0,0,0,.06);
  background:rgba(0,0,0,.04);
}

body.ag-s4 .ag-stackbar span{
  display:block;
  height:100%;
}

body.ag-s4 .ag-stackbar span.a{background:linear-gradient(90deg,var(--gold4),var(--gold6));}
body.ag-s4 .ag-stackbar span.b{background:linear-gradient(90deg,var(--surface3),var(--surface4));}

/* Badges */
body.ag-s4 .ag-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:5px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:900;
  background:linear-gradient(135deg,var(--surface3),var(--surface4));
  color:var(--ink2);
  border:1px solid rgba(0,0,0,.06);
}

body.ag-s4 .ag-badge-gold{
  background:linear-gradient(135deg,var(--gold4),var(--gold6));
  color:var(--ink4);
}

body.ag-s4 .ag-badge-muted{
  background:linear-gradient(135deg,var(--surface3),var(--surface4));
  color:var(--ink2);
}

body.ag-s4 .ag-badge-danger{
  background:linear-gradient(135deg,var(--danger1),var(--danger2));
  color:#fff;
}

body.ag-s4 .ag-empty{
  border-radius:var(--r16);
  padding:12px;
  background:linear-gradient(180deg,var(--glass-strong),var(--glass-soft));
  color:var(--text5);
  font-size:12px;
  text-align:center;
  border:1px solid rgba(0,0,0,.04);
}

body.ag-s4 .ag-hint{
  margin-top:8px;
  color:var(--text5);
  font-size:12px;
  line-height:1.9;
}

body.ag-s4 .ag-formline{display:flex; flex-direction:column; gap:8px;}
body.ag-s4 .ag-formgrid{display:grid; grid-template-columns:1fr; gap:10px;}

body.ag-s4 .ag-table{
  border-radius:var(--r16);
  overflow:hidden;
  border:1px solid rgba(0,0,0,.06);
}

body.ag-s4 .ag-tr{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
  padding:10px 12px;
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
}

body.ag-s4 .ag-tr:not(:last-child){
  border-bottom:1px solid rgba(0,0,0,.06);
}

body.ag-s4 .ag-td{font-size:12px; color:var(--text4); text-align:right;}
body.ag-s4 .ag-td strong{color:var(--text2); font-weight:900;}

body.ag-s4 .ag-actions{
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* Chat */
body.ag-s4 .ag-chat{display:flex; flex-direction:column; gap:10px;}
body.ag-s4 .ag-chat-list{
  max-height:300px;
  overflow:auto;
  padding:6px;
  border-radius:var(--r16);
  background:linear-gradient(180deg,rgba(255,255,255,.65),rgba(255,255,255,.35));
  border:1px solid rgba(0,0,0,.06);
}

body.ag-s4 .ag-chat-msg{margin:10px 0;}
body.ag-s4 .ag-chat-msg.mine{text-align:left;}
body.ag-s4 .ag-chat-meta{font-size:11px; color:var(--text5); margin-bottom:6px;}
body.ag-s4 .ag-chat-bubble{
  display:inline-block;
  max-width:92%;
  padding:10px 12px;
  border-radius:var(--r16);
  background:linear-gradient(180deg,var(--surface1),var(--surface2));
  border:1px solid rgba(0,0,0,.06);
  color:var(--text3);
  font-size:12px;
  line-height:1.9;
}

body.ag-s4 .ag-chat-msg.mine .ag-chat-bubble{
  background:linear-gradient(135deg,var(--gold1),var(--gold4));
  color:var(--ink3);
}

body.ag-s4 .ag-chat-compose{
  display:flex;
  gap:10px;
  align-items:center;
}

body.ag-s4 .ag-chat-compose .ag-input{flex:1;}
body.ag-s4 .ag-chat-compose .ag-primary{margin-top:0; width:auto; white-space:nowrap;}
